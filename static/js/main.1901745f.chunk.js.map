{"version":3,"sources":["Components/Main/Main.module.css","Components/Header/Header.module.css","Components/Footer/Footer.module.css","Components/ImageData/ImageData.module.css","Components/Header/Header.jsx","api/api.js","Components/ImageData/ImageData.jsx","Components/Main/Main.jsx","Components/Footer/Footer.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Header","className","c","title","instance","axios","create","baseURL","imageAPI","get","then","response","data","id","value","post","ImageData","props","state","isLoading","comments","url","showModal","this","setState","event","a","preventDefault","name","document","querySelector","text","trim","alert","comment","date","Date","now","loading","modal","image","src","alt","addComment","action","onSubmit","bind","type","placeholder","map","el","dateParser","commentText","back","onClick","handleModal","Component","timestamp","getDate","getMonth","getFullYear","Main","images","currentID","container","ind","React","Footer","copy","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1901745f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Main_container__3lvmY\",\"loading\":\"Main_loading__10Dt7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Header_title__2e7XO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"copy\":\"Footer_copy__3uNTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"ImageData_loading__3FocS\",\"modal\":\"ImageData_modal__LS2ha\",\"image\":\"ImageData_image__2c8fH\",\"addComment\":\"ImageData_addComment__2FoOj\",\"comments\":\"ImageData_comments__1z0gC\",\"comment\":\"ImageData_comment__2lv41\",\"date\":\"ImageData_date__2HG64\",\"back\":\"ImageData_back__s-FYW\"};","import React from 'react';\r\nimport c from \"./Header.module.css\";\r\n\r\nexport const Header = () => {\r\n    return (\r\n      <header>\r\n        <div className={c.title}>\r\n          <h1>Gallery</h1>\r\n        </div>\r\n      </header>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://boiling-refuge-66454.herokuapp.com/images',\r\n});\r\n\r\nexport const imageAPI = {\r\n    getImages() {\r\n        return instance.get()\r\n            .then(response => response.data);\r\n    },\r\n    getImageData(id) {\r\n        return instance.get(`/${id}`);\r\n    },\r\n    postComment(id, value) {\r\n        return instance.post(`/${id}/comments`, value);\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { imageAPI } from \"../../api/api\";\r\nimport Main from \"../Main/Main\";\r\nimport c from \"./ImageData.module.css\";\r\n\r\nclass ImageData extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      comments: null,\r\n      url: null,\r\n      showModal: true,\r\n    };\r\n  }\r\n\r\n  handleModal() {\r\n    this.setState({\r\n      showModal: false,\r\n    });\r\n  }\r\n\r\n  async addComment(event) {\r\n    event.preventDefault();\r\n    let name = document.querySelector(\"[name=name]\").value;\r\n    let text = document.querySelector(\"[name=comment]\").value;\r\n    if (name.trim() === \"\" || text.trim() === \"\") {\r\n      alert(\"Enter your name and text of a comment!\");\r\n      return;\r\n    }\r\n    await imageAPI.postComment(this.props.id, { name, comment: text });\r\n    document.querySelector(\"[name=name]\").value = \"\";\r\n    document.querySelector(\"[name=comment]\").value = \"\";\r\n    this.setState({\r\n      comments: [\r\n        ...this.state.comments,\r\n        {\r\n          id: 444,\r\n          text,\r\n          date: Date.now(),\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, comments, url, showModal } = this.state;\r\n    if (isLoading) return <div className={c.loading}>Please wait...</div>;\r\n    if (!showModal) return <Main />;\r\n    return (\r\n      <div className={c.modal}>\r\n        <div className={c.image}>\r\n          <img src={url} alt=\"this\" />\r\n        </div>\r\n        <div className={c.addComment}>\r\n          <form action=\"#\" onSubmit={this.addComment.bind(this)}>\r\n            <input type=\"text\" name=\"name\" placeholder=\"Your name\" />\r\n            <input type=\"text\" name=\"comment\" placeholder=\"Your comment\" />\r\n            <button>Place a comment</button>\r\n          </form>\r\n        </div>\r\n        <div className={c.comments}>\r\n          {comments.map((el) => (\r\n            <div key={el.id} className={c.comment}>\r\n              <div className={c.date}>{dateParser(el.date)}</div>\r\n              <div className={c.commentText}>{el.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className={c.back} onClick={this.handleModal.bind(this)}></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let data = await imageAPI.getImageData(this.props.id);\r\n\r\n    this.setState({\r\n      comments: data.data.comments,\r\n      url: data.data.url,\r\n      isLoading: false,\r\n    });\r\n  }\r\n}\r\n\r\nexport default ImageData;\r\n\r\nfunction dateParser(timestamp) {\r\n  let date = new Date(timestamp);\r\n  let day = date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate();\r\n  let month =\r\n    date.getMonth() + 1 < 10\r\n      ? \"0\" + (date.getMonth() + 1)\r\n      : date.getMonth() + 1;\r\n  let year =\r\n    date.getFullYear() < 10 ? \"0\" + date.getFullYear() : date.getFullYear();\r\n  return day + \".\" + month + \".\" + year;\r\n}\r\n","import React from \"react\";\r\nimport { imageAPI } from \"../../api/api\";\r\nimport ImageData from \"../ImageData/ImageData\";\r\nimport c from \"./Main.module.css\";\r\n\r\nclass Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      images: null,\r\n      showModal: false,\r\n      currentID: null\r\n    };\r\n  }\r\n\r\n  handleModal(id) {\r\n    this.setState({\r\n      showModal: true,\r\n      currentID: id\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, images, showModal} = this.state;\r\n    if (isLoading) return <div className={c.loading}>Please wait...</div>;\r\n    if (showModal) return <ImageData id={this.state.currentID}/>;\r\n    return (\r\n      <main>\r\n        <div className={c.container}>\r\n          {images.map((el, ind) => (\r\n            <div key={el.id}>\r\n              <img src={el.url} alt={`number ${ind + 1}`} onClick={this.handleModal.bind(this, el.id)}/>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let data = await imageAPI.getImages();\r\n\r\n    this.setState({\r\n      images: data,\r\n      isLoading: false,\r\n    });\r\n  }\r\n}\r\nexport default Main;","import React from 'react';\r\nimport c from './Footer.module.css';\r\n\r\nexport const Footer = () => {\r\n    return (\r\n        <footer>\r\n            <div className={c.copy}>&copy;dimitrrrr</div>\r\n        </footer>\r\n    )\r\n}\r\n","import './App.css';\nimport {Header} from './Components/Header/Header';\nimport Main from './Components/Main/Main';\nimport {Footer} from './Components/Footer/Footer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header/>\n      <Main/>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}